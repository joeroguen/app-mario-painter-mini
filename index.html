<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8' />
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />

<title>Mario Painter Mini</title>

<style type='text/css'>

html, body {
    height: 100%;
    margin: 0 0 0 0;
    padding: 0 0 0 0;
    width: 100%;
}

#left {
    display: block;
    float: left;
    height: 100%;
    margin: 0 0 0 0;
    overflow-x: scroll;
    padding: 0 0 0 0;
    width: 80%;
    }
    #canvas {
        background: #5c94fc none repeat top left;
        height: 100%;
        margin: 0 0 0 0;
        padding: 0 0 0 0;
        width: 1000px;
        }
        i {
            background: transparent url('images/sprite-32.png');
            background-repeat: no-repeat;
            display: block;
            height: 32px;
            float: left;
            margin: 0 0 0 0;
            padding: 0 0 0 0;
            width: 32px;
        }

#right {
    display: block;
    float: left;
    height: 100%;
    margin: 0 0 0 0;
    overflow-y: scroll;
    padding: 0 0 0 0;
    width: 20%;
    }
    #objects {
        background: #facd00 none;
        height: 1600px;
        margin: 0 0 0 0;
        padding: 30% 0 10% 0;
        width: 100%;
        }
        span {
            background: transparent url('images/sprite-32.png');
            background-repeat: no-repeat;
            display: block;
            margin: 0 auto 20% auto;
            }
        #sound {
            background: transparent url('images/sound.png');
            background-position: 0px 0px;
            border: 0;
            display: block;
            height: 32px;
            margin: 0 auto 20% auto;
            outline: 0;
            width: 32px;
        }
            /*mario*/
            .objM { background-position: -36px -1056px; height: 32px; width: 32px; }
            .objL { background-position: -374px -1048px; height: 32px; width: 32px; }
            /*sky*/
            .obj0 { background-position: -538px -704px; height: 32px; width: 32px; }
            /*blocks*/
            .obj1 { background-position: -736px -136px; height: 32px; width: 32px; }
            .obj2 { background-position: -736px -290px; height: 32px; width: 32px; }
            .obj3 { background-position: -734px -362px; height: 32px; width: 32px; }
            /*hills*/
            .obj4 { background-position: -12px -399px; height: 32px; width: 32px; }
            .obj5 { background-position: -74px -356px; height: 32px; width: 32px; }
            .obj6 { background-position: -74px -399px; height: 32px; width: 32px; }
            .obj7 { background-position: -150px -400px; height: 32px; width: 32px; }
            /*clouds*/
            .obj8 { background-position: -376px -463px; height: 32px; width: 32px; }
            .obj9 { background-position: -376px -413px; height: 32px; width: 32px; }
            .obj10 { background-position: -449px -413px; height: 32px; width: 32px; }
            .obj11 { background-position: -443px -463px; height: 32px; width: 32px; }
            /*pipes*/
            .obj12 { background-position: -1185px -67px; height: 32px; width: 32px; }
            .obj13 { background-position: -1185px -129px; height: 32px; width: 32px; }
            .obj14 { background-position: -1255px -67px; height: 32px; width: 32px; }
            .obj15 { background-position: -1255px -129px; height: 32px; width: 32px; }
            /*enemies*/
            .obj16 { background-position: -406px -1830px; height: 32px; width: 32px; }
            .obj17 { background-position: -892px -1568px; height: 32px; width: 32px; }
            .obj18 { background-position: -362px -1928px; height: 32px; width: 32px; }
            .obj19 { background-position: -24px -2078px; height: 32px; width: 32px; }
            /*flag*/
            .obj20 { background-position: -516px -164px; height: 32px; width: 32px; }
            .obj21 { background-position: -573px -245px; height: 32px; width: 32px; }
            .obj22 { background-position: -541px -407px; height: 32px; width: 32px; }
            /*items*/
            .obj23 { background-position: -907px -494px; height: 32px; width: 32px; }
            .obj24 { background-position: -132px -128px; height: 32px; width: 32px; }
            .obj25 { background-position: -94px -170px; height: 32px; width: 32px; }
            .obj26 { background-position: -96px -248px; height: 32px; width: 32px; }
</style>
</head>

<body>
<div id='left'>
    <div id='canvas'>
        <i></i>
    </div>
</div>

<div id='right'>
    <div id='objects'>
        <a id='sound'></a>
        <span class='objM'></span>
        <span class='objL'></span>
        <span class='obj0'></span>
        <span class='obj1'></span>
        <span class='obj2'></span>
        <span class='obj3'></span>
        <span class='obj4'></span>
        <span class='obj5'></span>
        <span class='obj6'></span>
        <span class='obj7'></span>
        <span class='obj8'></span>
        <span class='obj9'></span>
        <span class='obj10'></span>
        <span class='obj11'></span>
        <span class='obj12'></span>
        <span class='obj13'></span>
        <span class='obj14'></span>
        <span class='obj15'></span>
        <span class='obj16'></span>
        <span class='obj17'></span>
        <span class='obj18'></span>
        <span class='obj19'></span>
        <span class='obj20'></span>
        <span class='obj21'></span>
        <span class='obj22'></span>
        <span class='obj23'></span>
        <span class='obj24'></span>
        <span class='obj25'></span>
        <span class='obj26'></span>
    </div>
</div>

<script src="phonegap.js"></script>
<script src='scripts/jquery-1-11-3-min.js'></script>
<script type='text/javascript'>
    //using raymond camden's code for cordova media api example
    //raymondcamden.com/2014/06/23/Cordova-Media-API-Example    
    function onDeviceReady() {
        var playButton = document.getElementById("sound");
        playButton.addEventListener("touchstart", playAudio, false);
    }; //end on device ready

    function playAudio() {
        var audioUrl = getMediaURL("audio/music.wav");
        var media = new Media(audioUrl, null, mediaError);
        media.stop();
        media.play();
    };

    function getMediaURL(s) {
        if (device.platform.toLowerCase() === "android") {
            return "/android_asset/www/" + s;
        } else {
            return s;
        };
    };

    function mediaError(e) {
        alert("Media Error");
        alert(JSON.stringify(e));
    };
    
    //game object
    var app = {
        canvasHeight: 0,
        canvasSize: 0,
        createGrid: function() {
            app.canvasHeight = jQuery('#canvas').height();
            app.canvasSize = (Math.floor(app.canvasHeight/32)) * 31;
            for ( a=1; a<app.canvasSize; a++ ) {
                jQuery('#canvas').append('<i></i>');
            }
        },
        current: '',
        showActive: function(item) {
            app.current = jQuery(item).attr('class'); 
            //alert(app.current);
        },
        placeItem: function() {
            jQuery(this).css('background-image', app.current);
        }
    }; //end app object

    //gameplay
    app.createGrid();
    jQuery('span').click(function() {
        jQuery('span').css('outline', 'none');
        jQuery(this).css('outline', '5px solid #5c94fc');
        app.showActive(this);
    });

    jQuery('i').click(function() {
        //alert(jQuery(this).index());
        jQuery(this).removeClass();
        jQuery(this).addClass(app.current);
    });

    document.addEventListener("deviceready", onDeviceReady, false);
</script>
</body>
</html>
